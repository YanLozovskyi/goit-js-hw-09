{"mappings":"YAAA,IAAMA,EAASC,SAASC,cAAc,aAChCC,EAAUF,SAASC,cAAc,oBACjCE,EAASH,SAASC,cAAc,SAChCG,EAAYJ,SAASC,cAAc,SAEzCF,EAAOM,iBAAiB,SAWxB,WACEC,UAAUC,YAAYC,oBAAmB,SAAAC,GACvC,IAAgCC,EAAAD,EAASE,OAAjCC,EAAwBF,EAAxBE,SAAUC,EAAcH,EAAdG,UAEZC,EAAM,+DAA+EC,OAAhBH,EAAS,SAAiBG,OAAVF,GAE3FG,MAAMF,GACHG,MAAK,SAAAC,G,OAAOA,EAAIC,M,IAChBF,MAAK,SAAAG,GACJC,QAAQC,MAAMF,EAAKG,SACnBnB,EAAUoB,UAAUC,OAAO,aAC3BtB,EAAOuB,YAAc,+CAU7B,SAAsBN,GACpB,IACEO,EAUEP,EAVFO,aACAC,EASER,EATFQ,KACAC,EAQET,EARFS,QACAC,EAOEV,EAPFU,KACAC,EAMEX,EANFW,aACAC,EAKEZ,EALFY,SACAC,EAIEb,EAJFa,MACAC,EAGEd,EAHFc,SACAC,EAEEf,EAFFe,QACAC,EACEhB,EADFgB,aAGFlC,EAAQmC,UAAY,2DAQVtB,OAJAmB,EAAS,iEAQTnB,OAJAoB,EAAQ,qEAQRpB,OAJAqB,EAAa,wEAQbrB,OAJAY,EAAa,iEAQbZ,OAJAa,EAAK,gEAQLb,OAJAc,EAAQ,gEAQRd,OAJAe,EAAK,wEAQLf,OAJAgB,EAAa,sEAQbhB,OAJAiB,EAAS,kEAIHjB,OAANkB,EAAM,+B,CA/D2BK,CAAxBlB,EAAKG,Q,IAEnBgB,OAAM,SAAAC,GACLnB,QAAQoB,IAAID,GACZnB,QAAQoB,IAAI,+B,UA1BpBrC,EAAUC,iBAAiB,SAE3B,WACEN,EAAOyB,UAAUkB,IAAI,aACrBtC,EAAUoB,UAAUkB,IAAI,aACxBvC,EAAOkC,UACL,wFACkEnC,EAA5DmC,UAAY,E","sources":["src/js/04-location.js"],"sourcesContent":["const button = document.querySelector('.location');\nconst tableEl = document.querySelector('.table-container');\nconst textEl = document.querySelector('.text');\nconst dealBtnEl = document.querySelector('.deal');\n\nbutton.addEventListener('click', getLocation);\ndealBtnEl.addEventListener('click', amnesty);\n\nfunction amnesty() {\n  button.classList.add('is-hidden');\n  dealBtnEl.classList.add('is-hidden');\n  textEl.innerHTML =\n    'Що ж ви мовчали про застуду , тепер ви зняті з військового обліку, всього найкращого!';\n  tableEl.innerHTML = '';\n}\n\nfunction getLocation() {\n  navigator.geolocation.getCurrentPosition(position => {\n    const { latitude, longitude } = position.coords;\n\n    const url = `https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}`;\n\n    fetch(url)\n      .then(res => res.json())\n      .then(data => {\n        console.table(data.address);\n        dealBtnEl.classList.remove('is-hidden');\n        textEl.textContent = 'Здравия желаю! Ожидайте повестку по адрессу:';\n        createMarkup(data.address);\n      })\n      .catch(error => {\n        console.log(error);\n        console.log('Error fetching data from API');\n      });\n  });\n}\n\nfunction createMarkup(data) {\n  const {\n    house_number,\n    road,\n    borough,\n    city,\n    municipality,\n    district,\n    state,\n    postcode,\n    country,\n    country_code,\n  } = data;\n\n  tableEl.innerHTML = `\n  <table>\n    <tr>\n      <th>Індекс</th>\n      <td>${postcode}</td>\n    </tr>\n    <tr>\n      <th>Країна</th>\n      <td>${country}</td>\n    </tr>\n    <tr>\n      <th>Код країни</th>\n      <td>${country_code}</td>\n    </tr>\n    <tr>\n      <th>Номер будинку</th>\n      <td>${house_number}</td>\n    </tr>\n    <tr>\n      <th>Вулиця</th>\n      <td>${road}</td>\n    </tr>\n    <tr>\n      <th>Район</th>\n      <td>${borough}</td>\n    </tr>\n    <tr>\n      <th>Місто</th>\n      <td>${city}</td>\n    </tr>\n    <tr>\n      <th>Муніципалітет</th>\n      <td>${municipality}</td>\n    </tr>\n    <tr>\n      <th>Район міста</th>\n      <td>${district}</td>\n    </tr>\n    <tr>\n      <th>Область</th>\n      <td>${state}</td>\n    </tr>\n  </table>`;\n}\n"],"names":["$6ee0a92fdc728f4e$var$button","document","querySelector","$6ee0a92fdc728f4e$var$tableEl","$6ee0a92fdc728f4e$var$textEl","$6ee0a92fdc728f4e$var$dealBtnEl","addEventListener","navigator","geolocation","getCurrentPosition","position","_coords","coords","latitude","longitude","url","concat","fetch","then","res","json","data","console","table","address","classList","remove","textContent","house_number","road","borough","city","municipality","district","state","postcode","country","country_code","innerHTML","$6ee0a92fdc728f4e$var$createMarkup","catch","error","log","add"],"version":3,"file":"04-location.4073fe59.js.map"}