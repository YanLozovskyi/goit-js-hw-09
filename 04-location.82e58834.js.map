{"mappings":"AAAA,MAAMA,EAASC,SAASC,cAAc,aAChCC,EAAUF,SAASC,cAAc,oBACjCE,EAASH,SAASC,cAAc,SAChCG,EAAYJ,SAASC,cAAc,SAEzCF,EAAOM,iBAAiB,SAWxB,WACEC,UAAUC,YAAYC,oBAAmBC,IACvC,MAAMC,SAAEA,EAAQC,UAAEA,GAAcF,EAASG,OAIzCC,MAFY,+DAA+DH,SAAgBC,wBAGxFG,MAAKC,GAAOA,EAAIC,SAChBF,MAAKG,IACJC,QAAQC,MAAMF,EAAKG,SACnBhB,EAAUiB,UAAUC,OAAO,aAC3BnB,EAAOoB,YAAc,+CAU7B,SAAsBN,GACpB,MAAMO,aACJA,EAAYC,KACZA,EAAIC,QACJA,EAAOC,KACPA,EAAIC,aACJA,EAAYC,SACZA,EAAQC,MACRA,EAAKC,SACLA,EAAQC,QACRA,EAAOC,aACPA,GACEhB,EAEJf,EAAQgC,UAAY,0DAIVH,kEAIAC,uEAIAC,uEAIAT,+DAIAC,kEAIAC,+DAIAC,uEAIAC,mEAIAC,gEAIAC,+B,CA/DJK,CAAalB,EAAKG,QAAQ,IAE3BgB,OAAMC,IACLnB,QAAQoB,IAAID,GACZnB,QAAQoB,IAAI,+BAA+B,GAC3C,G,IA3BRlC,EAAUC,iBAAiB,SAE3B,WACEN,EAAOsB,UAAUkB,IAAI,aACrBnC,EAAUiB,UAAUkB,IAAI,aACxBpC,EAAO+B,UACL,wFACkEhC,EAA5DgC,UAAY,E","sources":["src/js/04-location.js"],"sourcesContent":["const button = document.querySelector('.location');\nconst tableEl = document.querySelector('.table-container');\nconst textEl = document.querySelector('.text');\nconst dealBtnEl = document.querySelector('.deal');\n\nbutton.addEventListener('click', getLocation);\ndealBtnEl.addEventListener('click', amnesty);\n\nfunction amnesty() {\n  button.classList.add('is-hidden');\n  dealBtnEl.classList.add('is-hidden');\n  textEl.innerHTML =\n    'Що ж ви мовчали про застуду , тепер ви зняті з військового обліку, всього найкращого!';\n  tableEl.innerHTML = '';\n}\n\nfunction getLocation() {\n  navigator.geolocation.getCurrentPosition(position => {\n    const { latitude, longitude } = position.coords;\n\n    const url = `https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}&accept-language=en`;\n\n    fetch(url)\n      .then(res => res.json())\n      .then(data => {\n        console.table(data.address);\n        dealBtnEl.classList.remove('is-hidden');\n        textEl.textContent = 'Здравия желаю! Ожидайте повестку по адрессу:';\n        createMarkup(data.address);\n      })\n      .catch(error => {\n        console.log(error);\n        console.log('Error fetching data from API');\n      });\n  });\n}\n\nfunction createMarkup(data) {\n  const {\n    house_number,\n    road,\n    borough,\n    city,\n    municipality,\n    district,\n    state,\n    postcode,\n    country,\n    country_code,\n  } = data;\n\n  tableEl.innerHTML = `\n  <table>\n    <tr>\n      <th>Index</th>\n      <td>${postcode}</td>\n    </tr>\n    <tr>\n      <th>Country</th>\n      <td>${country}</td>\n    </tr>\n    <tr>\n      <th>Country code</th>\n      <td>${country_code}</td>\n    </tr>\n    <tr>\n      <th>House number</th>\n      <td>${house_number}</td>\n    </tr>\n    <tr>\n      <th>Road</th>\n      <td>${road}</td>\n    </tr>\n    <tr>\n      <th>Borough</th>\n      <td>${borough}</td>\n    </tr>\n    <tr>\n      <th>City</th>\n      <td>${city}</td>\n    </tr>\n    <tr>\n      <th>Municipality</th>\n      <td>${municipality}</td>\n    </tr>\n    <tr>\n      <th>district</th>\n      <td>${district}</td>\n    </tr>\n    <tr>\n      <th>State</th>\n      <td>${state}</td>\n    </tr>\n  </table>`;\n}\n"],"names":["$4ab25409e8156d9a$var$button","document","querySelector","$4ab25409e8156d9a$var$tableEl","$4ab25409e8156d9a$var$textEl","$4ab25409e8156d9a$var$dealBtnEl","addEventListener","navigator","geolocation","getCurrentPosition","position","latitude","longitude","coords","fetch","then","res","json","data","console","table","address","classList","remove","textContent","house_number","road","borough","city","municipality","district","state","postcode","country","country_code","innerHTML","$4ab25409e8156d9a$var$createMarkup","catch","error","log","add"],"version":3,"file":"04-location.82e58834.js.map"}